---
title: Broadcasting Signed Payloads
prev_page: 3_payload-signing
next_page: 5_wrapping-up
---

## Useful data

Now that we have the signed payload, we will send it to the Staking API which will then broadcast the complete transaction to the NEAR network.

Let's break down the code in `pages/api/near-delegate/broadcast-transaction.ts`:

```js
...
        const response = await fetch(`https://${HOSTNAME}${ENDPOINT}`, {
            method: 'PUT',
            headers: {
                "Authorization" : process.env.API_KEY as string,
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                "name": "sign_delegate_tx",
                "inputs": {
                    "transaction_payload": body.signed_payload
                }
            })
        })
...
```

- When using cross-fetch in this way to communicate with the Staking API directly, we can pass the signed transaction payload in the request body.

- Refer to the <Link href="https://docs.figment.io/guides/staking-api/" rel="noopener noreferrer" target="_blank">Staking API Reference</Link> if necessary, to help you understand the Staking API.

Let's also look at the client-side code in `pages/near-delegate/broadcast-transaction.tsx`:

- The `result` variable here contains the JSON data coming from the Staking API 

```js
...
    // Get data from the form.
    const data = {
      flow_id: flowId,
      action: form.flowAction.value as string,
      signed_payload: form.signed_payload.value as string,
    }

    const response = await fetch("/api/near-delegate/broadcast-transaction", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify(data)
    });

    // Get the response data from server as JSON.
    const result = await response.json();
...
```

## Next Steps

So far, we've covered all the steps needed to complete a delegation flow for NEAR.

At this point in the flow, the only thing left to do is check on the flow state &mdash; it will update from `delegate_tx_broadcasting` to `delegated` when the transaction is confirmed on-chain

Next, we can query the flow state with a GET request.
